<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ADP Innovation Labs Challenge - Technical Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
      }
      .chart-container {
        position: relative;
        width: 100%;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        height: 320px;
        max-height: 400px;
      }
      @media (min-width: 768px) {
        .chart-container {
          height: 400px;
        }
      }
      .flow-arrow {
        position: relative;
        text-align: center;
      }
      .flow-arrow::after {
        content: "‚ñº";
        font-size: 2rem;
        color: #ef5675;
        margin-top: 1rem;
        margin-bottom: 1rem;
        display: inline-block;
      }
    </style>
  </head>
  <body class="bg-gray-100 text-gray-800">
    <div class="container mx-auto p-4 md:p-8">
      <header class="text-center mb-12">
        <h1 class="text-4xl md:text-5xl font-bold text-[#003f5c] mb-2">
          ADP Innovation Labs Challenge
        </h1>
        <p class="text-xl text-gray-600">
          A Technical Deep Dive into the Transaction Analysis System
        </p>
      </header>

      <main id="infographicContent">
        <section id="mission" class="mb-16">
          <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">
            Project Mission & Tech Stack
          </h2>
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8"
          >
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
              <p class="text-5xl mb-2">üìä</p>
              <h3 class="font-bold text-lg text-[#374c80]">
                Transaction Analysis
              </h3>
              <p class="text-sm">Find the top earner of the previous year.</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
              <p class="text-5xl mb-2">üîç</p>
              <h3 class="font-bold text-lg text-[#374c80]">
                Intelligent Filtering
              </h3>
              <p class="text-sm">
                Isolate "alpha" transactions from the top earner.
              </p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
              <p class="text-5xl mb-2">üîÑ</p>
              <h3 class="font-bold text-lg text-[#374c80]">API Integration</h3>
              <p class="text-sm">Communicate seamlessly with ADP endpoints.</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
              <p class="text-5xl mb-2">üöÄ</p>
              <h3 class="font-bold text-lg text-[#374c80]">
                Results Submission
              </h3>
              <p class="text-sm">Submit processed data automatically.</p>
            </div>
          </div>
          <div
            class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center"
          >
            <div class="bg-[#003f5c] text-white p-4 rounded-lg shadow-md">
              <p>üü¢ Node.js 18+</p>
            </div>
            <div class="bg-[#7a5195] text-white p-4 rounded-lg shadow-md">
              <p>üü¢ Axios</p>
            </div>
            <div class="bg-[#bc5090] text-white p-4 rounded-lg shadow-md">
              <p>üü¢ Dotenv</p>
            </div>
            <div class="bg-[#ff764a] text-white p-4 rounded-lg shadow-md">
              <p>üü¢ Swagger UI</p>
            </div>
          </div>
        </section>

        <section id="architecture" class="mb-16">
          <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">
            System Blueprint
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="font-bold text-xl mb-4 text-[#374c80]">
                Modular Structure
              </h3>
              <div
                class="bg-gray-800 text-white font-mono text-sm p-4 rounded-md"
              >
                <p>adp-challenge/</p>
                <p class="pl-4">‚îú‚îÄ‚îÄ index.js</p>
                <p class="pl-4">‚îú‚îÄ‚îÄ services/</p>
                <p class="pl-8">‚îÇ ‚îú‚îÄ‚îÄ apiService.js</p>
                <p class="pl-8">‚îÇ ‚îî‚îÄ‚îÄ transactionService.js</p>
                <p class="pl-4">‚îú‚îÄ‚îÄ tests/</p>
                <p class="pl-8">‚îÇ ‚îî‚îÄ‚îÄ test.js</p>
                <p class="pl-4">‚îú‚îÄ‚îÄ utils/</p>
                <p class="pl-8">‚îÇ ‚îî‚îÄ‚îÄ logger.js</p>
                <p class="pl-4">‚îî‚îÄ‚îÄ swagger-static.js</p>
              </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="font-bold text-xl mb-4 text-[#374c80]">
                Design Principles
              </h3>
              <ul class="space-y-3">
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">‚úÖ</span>
                  <div>
                    <strong>Separation of Concerns</strong><br /><span
                      class="text-sm text-gray-600"
                      >Each module has a specific, isolated function.</span
                    >
                  </div>
                </li>
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">‚úÖ</span>
                  <div>
                    <strong>Robust Error Handling</strong><br /><span
                      class="text-sm text-gray-600"
                      >Automatic retries and detailed logging for
                      reliability.</span
                    >
                  </div>
                </li>
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">‚úÖ</span>
                  <div>
                    <strong>Flexible Configuration</strong><br /><span
                      class="text-sm text-gray-600"
                      >Uses environment variables for easy setup.</span
                    >
                  </div>
                </li>
                <li class="flex items-start">
                  <span class="text-green-500 mr-2">‚úÖ</span>
                  <div>
                    <strong>High Testability</strong><br /><span
                      class="text-sm text-gray-600"
                      >Modular code designed for straightforward unit
                      testing.</span
                    >
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <section id="flow" class="mb-16">
          <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">
            The 4-Step Execution Flow
          </h2>
          <div class="flex flex-col items-center">
            <div
              class="bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl text-center"
            >
              <h3 class="text-xl font-bold text-[#374c80]">
                1Ô∏è‚É£ Fetch Data (GET /get-task)
              </h3>
              <p class="mt-2 text-gray-600">
                Initiate the process by requesting the transaction dataset from
                the ADP API.
              </p>
            </div>
            <div class="flow-arrow"></div>
            <div
              class="bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl text-center"
            >
              <h3 class="text-xl font-bold text-[#7a5195]">
                2Ô∏è‚É£ Find Top Earner
              </h3>
              <p class="mt-2 text-gray-600">
                Analyze transactions from the previous year to identify the
                employee with the highest total earnings.
              </p>
            </div>
            <div class="flow-arrow"></div>
            <div
              class="bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl text-center"
            >
              <h3 class="text-xl font-bold text-[#bc5090]">
                3Ô∏è‚É£ Filter Alpha Transactions
              </h3>
              <p class="mt-2 text-gray-600">
                Isolate all transactions of type 'alpha' belonging to the
                identified top earner.
              </p>
            </div>
            <div class="flow-arrow"></div>
            <div
              class="bg-white p-6 rounded-lg shadow-lg w-full max-w-2xl text-center"
            >
              <h3 class="text-xl font-bold text-[#ef5675]">
                4Ô∏è‚É£ Submit Results (POST /submit-task)
              </h3>
              <p class="mt-2 text-gray-600">
                Send the list of filtered alpha transaction IDs back to the API
                to complete the challenge.
              </p>
            </div>
          </div>
        </section>

        <section id="logic" class="mb-16">
          <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">
            Core Logic Showcase
          </h2>
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="font-bold text-xl mb-4 text-[#374c80]">
                Visualizing Top Earner Logic
              </h3>
              <p class="text-sm text-gray-600 mb-4">
                The system processes all transactions from the prior year,
                grouping them by employee to calculate total earnings. This
                chart illustrates a sample outcome, clearly identifying the
                highest earner.
              </p>
              <div class="chart-container">
                <canvas id="topEarnerChart"></canvas>
              </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="font-bold text-xl mb-4 text-[#374c80]">
                API Service Features
              </h3>
              <p class="text-sm text-gray-600 mb-4">
                The `ApiService` is built for resilience. This donut chart
                represents the key features that ensure robust and reliable
                communication with external endpoints, from automatic retries to
                detailed logging.
              </p>
              <div class="chart-container">
                <canvas id="apiFeaturesChart"></canvas>
              </div>
            </div>
          </div>
        </section>

        <section id="quality" class="mb-16">
          <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">
            Quality & Operations
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="text-xl font-bold text-[#374c80] mb-3">
                üß™ Testing & Quality
              </h3>
              <p class="text-sm text-gray-600 mb-4">
                Unit tests validate core business logic, while the interactive
                Swagger UI allows for end-to-end testing of the full execution
                flow.
              </p>
              <code class="text-sm bg-gray-200 p-2 rounded-md block"
                >npm test</code
              >
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="text-xl font-bold text-[#7a5195] mb-3">
                üìù Logging & Monitoring
              </h3>
              <p class="text-sm text-gray-600 mb-4">
                A custom logger provides clear, color-coded output for each
                stage of the process, simplifying debugging and tracking.
              </p>
              <div
                class="text-sm bg-gray-800 text-green-400 p-2 rounded-md font-mono"
              >
                [SUCCESS] ‚úÖ Top earner found
              </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="text-xl font-bold text-[#bc5090] mb-3">
                ‚öôÔ∏è Configuration & Deployment
              </h3>
              <p class="text-sm text-gray-600 mb-4">
                Simple NPM scripts and a `.env` file for configuration make
                installation and execution straightforward.
              </p>
              <code class="text-sm bg-gray-200 p-2 rounded-md block"
                >npm start</code
              >
            </div>
          </div>
        </section>

        <section id="performance" class="mb-16">
          <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-8">
            Performance & Future Roadmap
          </h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="text-xl font-bold text-[#374c80] mb-4">
                Key Performance Metrics
              </h3>
              <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 text-center">
                <div class="bg-blue-100 p-4 rounded-lg">
                  <p class="text-3xl font-bold text-[#003f5c]">~2-3s</p>
                  <p class="text-sm">Total Execution</p>
                </div>
                <div class="bg-purple-100 p-4 rounded-lg">
                  <p class="text-3xl font-bold text-[#7a5195]">3</p>
                  <p class="text-sm">API Retry Attempts</p>
                </div>
                <div class="bg-pink-100 p-4 rounded-lg">
                  <p class="text-3xl font-bold text-[#bc5090]">10s</p>
                  <p class="text-sm">Request Timeout</p>
                </div>
              </div>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md">
              <h3 class="text-xl font-bold text-[#374c80] mb-4">
                üöÄ Future Improvements
              </h3>
              <ul class="space-y-2">
                <li class="flex items-center">
                  <span class="text-xl mr-3">üîÑ</span> Data Caching (Redis)
                </li>
                <li class="flex items-center">
                  <span class="text-xl mr-3">üîÑ</span> Advanced Monitoring
                  (Prometheus)
                </li>
                <li class="flex items-center">
                  <span class="text-xl mr-3">üîÑ</span> CI/CD Automation
                </li>
                <li class="flex items-center">
                  <span class="text-xl mr-3">üîÑ</span> Application
                  Containerization (Docker)
                </li>
              </ul>
            </div>
          </div>
        </section>
      </main>

      <footer class="text-center mt-12 pt-8 border-t border-gray-300">
        <h2 class="text-3xl font-bold text-center text-[#003f5c] mb-4">
          Executive Summary
        </h2>
        <div
          id="executiveSummary"
          class="bg-white rounded-lg shadow-md p-6 mb-4"
        >
          <p class="text-gray-600 mb-4">
            This infographic summarizes the ADP Innovation Labs Challenge. Ready
            for production and scalability!
          </p>
          <button
            onclick="generateBriefing()"
            id="generateBtn"
            class="bg-[#ff764a] text-white font-bold py-2 px-6 rounded-full shadow-lg transition-transform transform hover:scale-105"
          >
            ‚ú® Generate Executive Briefing
          </button>
        </div>
        <div
          id="briefingOutput"
          class="bg-white rounded-lg shadow-md p-6 hidden"
        >
          <h3 class="text-xl font-bold text-[#374c80] mb-2">
            Generated Briefing
          </h3>
          <div id="briefingText" class="text-gray-700"></div>
        </div>
      </footer>
    </div>

    <script>
      const tooltipTitleCallback = {
        plugins: {
          tooltip: {
            callbacks: {
              title: function (tooltipItems) {
                const item = tooltipItems[0];
                let label = item.chart.data.labels[item.dataIndex];
                if (Array.isArray(label)) {
                  return label.join(" ");
                }
                return label;
              },
            },
          },
        },
      };

      const topEarnerCtx = document
        .getElementById("topEarnerChart")
        .getContext("2d");
      new Chart(topEarnerCtx, {
        type: "bar",
        data: {
          labels: [
            "Jane Smith",
            "Peter Jones",
            "John Doe",
            "Susan Lee",
            "Mike Chen",
          ],
          datasets: [
            {
              label: "Total Earnings ($)",
              data: [38000, 42000, 45000, 39500, 41000],
              backgroundColor: [
                "#7a5195",
                "#bc5090",
                "#ff764a",
                "#ffa600",
                "#374c80",
              ],
              borderColor: "#ffffff",
              borderWidth: 2,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                callback: function (value) {
                  return "$" + value / 1000 + "k";
                },
              },
            },
          },
          ...tooltipTitleCallback,
        },
      });

      const apiFeaturesCtx = document
        .getElementById("apiFeaturesChart")
        .getContext("2d");
      new Chart(apiFeaturesCtx, {
        type: "doughnut",
        data: {
          labels: [
            "Retry Logic",
            "Interceptors",
            "Health Check",
            "Error Handling",
          ],
          datasets: [
            {
              label: "API Service Features",
              data: [30, 25, 20, 25],
              backgroundColor: ["#003f5c", "#7a5195", "#ef5675", "#ffa600"],
              hoverOffset: 4,
            },
          ],
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          ...tooltipTitleCallback,
        },
      });

      async function generateBriefing() {
        const button = document.getElementById("generateBtn");
        const outputDiv = document.getElementById("briefingOutput");
        const outputText = document.getElementById("briefingText");
        const infographicContent =
          document.getElementById("infographicContent").innerText;

        button.disabled = true;
        button.innerText = "Generating...";
        outputDiv.classList.add("hidden");
        outputText.innerHTML = "";

        try {
          const systemPrompt =
            "Act as a world-class technology consultant. Provide a concise, single-paragraph executive briefing of the key findings and technical achievements from the provided technical presentation. The briefing should focus on business impact and be non-technical in tone.";
          const userQuery = `Summarize the following technical presentation content:\n\n${infographicContent}`;
          const apiKey = "";
          const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

          const payload = {
            contents: [{ parts: [{ text: userQuery }] }],
            systemInstruction: {
              parts: [{ text: systemPrompt }],
            },
          };

          const response = await fetch(apiUrl, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(payload),
          });

          if (!response.ok) {
            throw new Error(
              `API response was not ok: ${response.status} ${response.statusText}`
            );
          }

          const result = await response.json();
          const briefing =
            result?.candidates?.[0]?.content?.parts?.[0]?.text ||
            "Failed to generate briefing.";
          outputText.innerText = briefing;
          outputDiv.classList.remove("hidden");
        } catch (error) {
          console.error("Error generating briefing:", error);
          outputText.innerText = "An error occurred. Please try again later.";
          outputDiv.classList.remove("hidden");
        } finally {
          button.disabled = false;
          button.innerText = "‚ú® Generate Executive Briefing";
        }
      }
    </script>
  </body>
</html>
